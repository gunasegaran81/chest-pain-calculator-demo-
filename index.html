
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Chest Pain Risk Stratification Tool</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; background: #f9f9f9; }
        h1 { color: #004080; }
        label { display: block; margin-top: 10px; }
        input[type=number] { width: 100px; }
        section { background: white; padding: 15px; margin-top: 20px; border-radius: 8px; box-shadow: 0 0 10px #ccc; }
        button { margin-top: 15px; padding: 8px 12px; }
    </style>
</head>
<body>
    <h1>Chest Pain Combined Tool</h1>

    <section>
        <h2>ðŸ”¢ Input Scores</h2>
        <label>HEART Score: <input type="number" id="heartScore" min="0" max="10" step="1"></label>
        <label>TIMI Score: <input type="number" id="timiScore" min="0" max="7" step="1"></label>
        <label>GRACE Score: <input type="number" id="graceScore" min="0" max="372" step="1"></label>
        <button onclick="calculateRisk(); provideDecisionSupport()">Calculate Risk</button>
    </section>

    <section>
        <h2>ðŸ“ˆ Risk Percentages</h2>
        <div id="riskResult" style="padding: 10px; border: 1px solid #aaa; background: #eef;"></div>
    </section>

    <section>
        <h2>ðŸ§  Advanced Decision Support Summary</h2>
        <p>Risk-based clinical recommendations:</p>
        <div id="decisionSupport" style="background:#eef5f9;padding:10px;border:1px solid #777;border-radius:5px;"></div>
    </section>

<script>
function calculateRisk() {
    const heart = parseFloat(document.getElementById("heartScore").value) || 0;
    const timi = parseFloat(document.getElementById("timiScore").value) || 0;
    const grace = parseFloat(document.getElementById("graceScore").value) || 0;

    let heartRisk = heart <= 3 ? "0.9-1.7%" : heart <= 6 ? "12-16.6%" : ">50%";
    let timiRisk = timi <= 2 ? "5%" : timi <= 4 ? "13-20%" : ">26.5%";
    let graceRisk = grace < 109 ? "<3%" : grace <= 140 ? "3â€“8%" : ">8%";

    document.getElementById("riskResult").innerHTML =
        `<strong>HEART Score Risk:</strong> ${heartRisk}<br>` +
        `<strong>TIMI Score Risk:</strong> ${timiRisk}<br>` +
        `<strong>GRACE Score Risk:</strong> ${graceRisk}`;
}

function provideDecisionSupport() {
    const heart = parseFloat(document.getElementById("heartScore").value) || 0;
    const timi = parseFloat(document.getElementById("timiScore").value) || 0;
    const grace = parseFloat(document.getElementById("graceScore").value) || 0;
    let suggestions = [];

    if (heart <= 3) {
        suggestions.push("HEART Score: Low risk. Discharge with follow-up.");
    } else if (heart <= 6) {
        suggestions.push("HEART Score: Moderate risk. Observe and use GRACE to refine decision.");
    } else {
        suggestions.push("HEART Score: High risk. Early invasive strategy.");
    }

    if (timi <= 2) {
        suggestions.push("TIMI Score: Low risk. Consider ischemia-guided approach.");
    } else if (timi <= 4) {
        suggestions.push("TIMI Score: Intermediate risk. Invasive strategy may be warranted.");
    } else {
        suggestions.push("TIMI Score: High risk. Early invasive approach recommended.");
    }

    if (grace < 109) {
        suggestions.push("GRACE Score: Low risk. Non-invasive tests before discharge.");
    } else if (grace <= 140) {
        suggestions.push("GRACE Score: Intermediate risk. Invasive vs conservative based on clinical judgment.");
    } else {
        suggestions.push("GRACE Score: High risk. Early invasive management within 24h per AHA 2025.");
    }

    if ((heart >= 4 && heart <= 6) || (timi >= 3 && timi <= 4)) {
        suggestions.push("Moderate HEART/TIMI: Use GRACE to guide next steps.");
    }

    if ((heart > 6 || timi > 4) && grace > 140) {
        suggestions.push("All scores high: Proceed with invasive management.");
    }

    if ((heart <= 3 && timi <= 2) && grace < 109) {
        suggestions.push("All scores low: Discharge safely with outpatient follow-up.");
    }

    if (grace > 140 && (heart <= 3 || timi <= 2)) {
        suggestions.push("GRACE high despite low HEART/TIMI â€“ cardiology review recommended.");
    }

    document.getElementById("decisionSupport").innerHTML = "<ul><li>" + suggestions.join("</li><li>") + "</li></ul>";
}
</script>
</body>
</html>
