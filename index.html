
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chest Pain Risk Calculator (TIMI + HEART)</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 0 auto; padding: 1rem; max-width: 600px; background-color: #f9f9f9; }
        h2, h3 { color: #2c3e50; }
        label { display: block; margin: 0.5rem 0; }
        input[type="checkbox"], input[type="number"], select { margin-right: 0.5rem; }
        button { background-color: #3498db; color: white; padding: 10px; border: none; margin-top: 1rem; cursor: pointer; width: 100%; }
        button:hover { background-color: #2980b9; }
        .result { margin-top: 1.5rem; padding: 1rem; background-color: #ecf0f1; border-radius: 5px; }
    </style>
</head>
<body>
    <h2>Chest Pain Risk Calculator</h2>

    <h3>TIMI Score</h3>
    <form id="timiForm">
        <label><input type="checkbox" name="timi" value="1"> Age ≥ 65</label>
        <label><input type="checkbox" name="timi" value="1"> ≥3 Risk factors (HTN, DM, HLD, FHx, smoking)</label>
        <label><input type="checkbox" name="timi" value="1"> Known CAD (≥50% stenosis)</label>
        <label><input type="checkbox" name="timi" value="1"> Aspirin use in past 7 days</label>
        <label><input type="checkbox" name="timi" value="1"> ≥2 Angina events in past 24h</label>
        <label><input type="checkbox" name="timi" value="1"> ST-segment deviation ≥0.5mm</label>
        <label><input type="checkbox" name="timi" value="1"> Elevated troponin</label>
    </form>

    <h3>HEART Score</h3>
    <form id="heartForm">
        <label>History:
            <select name="history">
                <option value="0">Slightly suspicious (0)</option>
                <option value="1">Moderately suspicious (1)</option>
                <option value="2">Highly suspicious (2)</option>
            </select>
        </label>
        <label>ECG:
            <select name="ecg">
                <option value="0">Normal (0)</option>
                <option value="1">Nonspecific repolarization (1)</option>
                <option value="2">Significant ST-depression (2)</option>
            </select>
        </label>
        <label>Age:
            <select name="age">
                <option value="0">&lt;45 (0)</option>
                <option value="1">45–65 (1)</option>
                <option value="2">&gt;65 (2)</option>
            </select>
        </label>
        <label>Risk Factors:
            <select name="riskFactors">
                <option value="0">None (0)</option>
                <option value="1">1–2 or known atherosclerosis (1)</option>
                <option value="2">≥3 or known CAD (2)</option>
            </select>
        </label>
        <label>Troponin:
            <select name="troponin">
                <option value="0">Normal (0)</option>
                <option value="1">1–2× normal limit (1)</option>
                <option value="2">&gt;2× normal limit (2)</option>
            </select>
        </label>
    </form>

    <button onclick="calculateScores()">Calculate Risk Scores</button>

    <div class="result" id="result"></div>

    <script>
        function calculateScores() {
            const timiInputs = document.querySelectorAll('#timiForm input[type="checkbox"]:checked');
            const timiScore = timiInputs.length;

            const heartFields = ['history', 'ecg', 'age', 'riskFactors', 'troponin'];
            let heartScore = 0;
            heartFields.forEach(field => {
                const val = parseInt(document.querySelector(`#heartForm select[name="${field}"]`).value);
                heartScore += val;
            });

            let riskLevel = '';
            if (timiScore <= 1 && heartScore <= 3) {
                riskLevel = 'Very Low Risk – Safe for Discharge';
            } else if (heartScore <= 6) {
                riskLevel = 'Moderate Risk – Observe and Repeat Troponin';
            } else {
                riskLevel = 'High Risk – Admit for Invasive Management';
            }

            document.getElementById('result').innerHTML = `
                <strong>TIMI Score:</strong> ${timiScore}/7<br>
                <strong>HEART Score:</strong> ${heartScore}/10<br>
                <strong>Risk Stratification:</strong> ${riskLevel}
            `;
        }
    </script>
</body>
</html>
